<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FurEver Home PH ‚Äî From Stray to Stay</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <header class="navbar">
      <nav class="nav-links">
        <a href="#about">About</a>
        <a href="#friends">Adopt</a>
        <a href="#success-stories">Stories</a>
        <a href="#food">Food Guide</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="hero-content">
          <p class="tagline">From Stray to Stay‚Äî</p>
          <h1 class="title">FUREVER HOME PH</h1>
        </div>
        <img src="images/KittenStory2.avif" alt="Happy kitten" class="hero-img" />
        <!-- Add a visible trigger for the kitten modal so it can be opened -->
        <div class="see-more-container">
          <button id="openKittenStoriesBtn" class="see-more-btn">See kitten stories</button>
        </div>
      </section>

      <section class="three-columns" id="adopt-rescue">
        <!-- Adopt form -->
        <form class="form-box adopt-box" action="#" method="POST">
          <h3>Make new friends!</h3>
          <label for="adopt-friendly" class="visually-hidden">Puppy and kitten friendly</label>
          <input id="adopt-friendly" type="text" name="friendly" placeholder="Puppy & Kitten Friendly" />
          <label for="adopt-vetcheck" class="visually-hidden">Vet checked before adoption</label>
          <input id="adopt-vetcheck" type="text" name="vetcheck" placeholder="Vet-checked before adoption" />
          <label for="adopt-family" class="visually-hidden">Family-first matching</label>
          <input id="adopt-family" type="text" name="family" placeholder="Family-first matching" />
          <button type="submit" class="adopt-btn">Adopt</button>
        </form>

        <!-- Rescue form -->
        <form class="form-box rescue-box" action="#" method="POST">
          <h3>Need Help With a Stray?</h3>
          <label for="rescue-location" class="visually-hidden">Location or landmark</label>
          <input id="rescue-location" type="text" name="location" placeholder="Location / Landmark" />
          <label for="rescue-animal" class="visually-hidden">Animal type</label>
          <select id="rescue-animal" name="animal">
            <option>Dog</option>
            <option>Cat</option>
            <option>Other</option>
          </select>
          <label for="rescue-notes" class="visually-hidden">Notes about the animal</label>
          <textarea id="rescue-notes" name="notes" placeholder="Injured? Aggressive? Collared?"></textarea>
          <button type="submit" class="rescue-btn">Rescue</button>
        </form>

        <!-- Success stories gallery -->
        <div class="info-column" id="success-stories">
          <h3>Success Stories</h3>
          <div class="success-gallery">
            <img src="images/cathug.png" alt="Success 1" />
            <img src="images/cathug2.png" alt="Success 2" />
            <img src="images/doggyhug.png" alt="Success 3" />
            <button id="openStoriesModalBtn" class="see-more-stories-btn">See more Stories...</button>
          </div>
        </div>
      </section>

      <!-- Modals -->
      <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modalTitle" style="display:none;">
        <div class="modal-content" role="document">
          <button id="closeKittenModalBtn" data-modal-close class="modal-close">Close</button>
          <h2 id="modalTitle">More Stories of Rescued Kittens</h2>
          <div class="story-list">
            <article class="story-item">
              <img src="images/KittenStory2.avif" alt="Moon the kitten" />
              <h3>Moon's Journey</h3>
              <p>Moon was saved from a shelter and has become a sweet companion.</p>
            </article>
          </div>
        </div>
      </div>

      <div id="storiesModal2" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="storiesModalTitle" style="display:none;">
        <div class="modal-content" role="document">
          <button class="close2 modal-close" data-modal-close>Close</button>
          <h2 id="storiesModalTitle">Rescue Stories</h2>
          <div class="story-grid">
            <div class="story-card">
              <img src="https://placekitten.com/300/200" alt="Bella" />
              <h3>Bella</h3>
              <p>Rescued from the streets, Bella now naps in sunny spots and cuddles with her family.</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer" id="contact">
      <div class="footer-container">
        <p>üìç Philippines | üìß contact@fureverhomeph.org</p>
        <p class="copy">¬© 2025 FurEver Home PH ‚Äî From Stray to Stay.</p>
      </div>
    </footer>

    <script>
      (function () {
        'use strict';

        // Flip-card toggle (if flip-cards are present)
        function initFlipCards() {
          document.querySelectorAll('.flip-card').forEach(function (card) {
            card.addEventListener('click', function () { card.classList.toggle('flipped'); });
          });
        }

        // Simple IntersectionObserver for reveal animations
        function initObserver() {
          if (!('IntersectionObserver' in window)) return;
          var observer = new IntersectionObserver(function (entries) {
            entries.forEach(function (entry) { if (entry.isIntersecting) entry.target.classList.add('animate'); });
          }, { threshold: 0.2 });
          document.querySelectorAll('.info-column, .success-gallery img').forEach(function (el) { observer.observe(el); });
        }

        // Accessible ModalManager
        function ModalManager(modalEl) {
          if (!modalEl) return null;
          this.modal = modalEl;
          this.previouslyFocused = null;
          var self = this;

          this.open = function (trigger) {
            if (!self.modal) return;
            self.previouslyFocused = trigger || document.activeElement;
            self.modal.style.display = 'flex';
            self.modal.setAttribute('aria-hidden', 'false');
            var focusable = self.modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            if (focusable) focusable.focus();
          };

          this.close = function () {
            if (!self.modal) return;
            self.modal.style.display = 'none';
            self.modal.setAttribute('aria-hidden', 'true');
            if (self.previouslyFocused && typeof self.previouslyFocused.focus === 'function') self.previouslyFocused.focus();
          };

          // overlay click closes
          this.modal.addEventListener('click', function (e) { if (e.target === self.modal) self.close(); });
          // close buttons (data attribute)
          this.modal.querySelectorAll('[data-modal-close]').forEach(function (btn) { btn.addEventListener('click', self.close); });
        }

        function initModals() {
          var kittenModalEl = document.getElementById('modal');
          var storiesModalEl = document.getElementById('storiesModal2');
          var kittenModal = kittenModalEl ? new ModalManager(kittenModalEl) : null;
          var storiesModal = storiesModalEl ? new ModalManager(storiesModalEl) : null;

          var openKittenBtn = document.getElementById('openKittenStoriesBtn');
          var openStoriesBtn = document.getElementById('openStoriesModalBtn');

          if (openKittenBtn && kittenModal) openKittenBtn.addEventListener('click', function () { kittenModal.open(openKittenBtn); });
          if (openStoriesBtn && storiesModal) openStoriesBtn.addEventListener('click', function () { storiesModal.open(openStoriesBtn); });
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function () { initFlipCards(); initObserver(); initModals(); });
        } else {
          initFlipCards(); initObserver(); initModals();
        }
      })();
    </script>
  </body>
</html>